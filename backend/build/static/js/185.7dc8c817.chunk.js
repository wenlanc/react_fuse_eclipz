(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[185],{3422:function(e,a,t){"use strict";t.r(a);var n=t(1628),l=t(211),c=t(0),r=t.n(c),o=t(1688),i=t(70),s=t(1590),d=t(1581),m=t(541),u=t(228),f=t(1604),p=t(229),b=t(5),E=t(21),h=t(1629);var g=function(e){var a=Object(b.c)(),t=Object(b.d)((function(e){return e.accesscontrolApp.downloads.searchText})),n=Object(b.d)((function(e){return e.fuse.settings.mainTheme})),l=Object(b.d)((function(e){return e.auth.user}));return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(i.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(p.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Downloads"))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},r.a.createElement(f.a,{theme:n},r.a.createElement(i.a,{animation:"transition.slideDownIn",delay:300},r.a.createElement(u.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},r.a.createElement(d.a,{color:"action"},"search"),r.a.createElement(m.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a(h.ic(e))}}))))),"superadmin"==l.role&&r.a.createElement(i.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(s.a,{component:E.a,to:"/downloads/new",className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary"},r.a.createElement("span",{className:"hidden sm:flex"},"Add New "),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},w=t(22),x=t(44),j=t(8),v=t(1594),O=t(1647),C=t(1648),N=t(1591),k=t(1676),S=t(1592),y=t(2),P=t(53),D=t(817),I=t(1612),A=t(1588),B=t(538),R=t(1583),T=t(1534),W=t(1580),F=t(1650),L=t(1695),q=t(1587),z=t(1599),J=t(1678),M=t(1670),U=t(1692),_=t(1679),G=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"description",align:"left",disablePadding:!0,label:"Description",sort:!0},{id:"filename",align:"left",disablePadding:!1,label:"File",sort:!0},{id:"date",align:"left",disablePadding:!1,label:"Date",sort:!0}],H=Object(W.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var K=function(e){var a=H(e),t=Object(b.c)(),n=Object(c.useState)(null),l=Object(w.a)(n,2),o=l[0],i=l[1],m=e.selectedDownloadIds,u=Object(b.d)((function(e){return e.auth.user}));function f(){i(null)}var p=r.a.useState(!1),E=Object(w.a)(p,2),g=E[0],x=E[1],j=function(){x(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,null,r.a.createElement(S.a,{className:"h-64"},r.a.createElement(N.a,{padding:"none",className:"relative w-64 text-center"},r.a.createElement(v.a,{indeterminate:e.numSelected>0&&e.numSelected<e.rowCount,checked:e.numSelected>0&&e.numSelected===e.rowCount,onChange:e.onSelectAllClick,disabled:"superadmin"!=u.role}),e.numSelected>0&&r.a.createElement("div",{className:Object(y.default)("flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10",a.actionsButtonWrapper)},r.a.createElement(D.a,{"aria-owns":o?"selectedDownloadsMenu":null,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},disabled:"superadmin"!=u.role},r.a.createElement(d.a,null,"more_horiz")),r.a.createElement(B.a,{id:"selectedDownloadsMenu",anchorEl:o,open:Boolean(o),onClose:f},r.a.createElement(T.a,null,r.a.createElement(R.a,{onClick:function(){f(),x(!0)}},r.a.createElement(I.a,{className:"min-w-40"},r.a.createElement(d.a,null,"delete")),r.a.createElement(A.a,{primary:"Remove"})))))),G.map((function(a){return r.a.createElement(N.a,{className:"p-10",key:a.id,align:a.align,padding:a.disablePadding?"none":"default",sortDirection:e.order.id===a.id&&e.order.direction},a.sort&&r.a.createElement(q.a,{title:"Sort",placement:"right"===a.align?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(L.a,{active:e.order.id===a.id,direction:e.order.direction,onClick:(t=a.id,function(a){e.onRequestSort(a,t)})},a.label)));var t}),this))),r.a.createElement(z.a,{open:g,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(_.a,{id:"alert-dialog-title"},"Warning"),r.a.createElement(M.a,null,r.a.createElement(U.a,{id:"alert-dialog-description"},"Confirm to delete...")),r.a.createElement(J.a,null,r.a.createElement(s.a,{onClick:j},"Cancel"),r.a.createElement(s.a,{onClick:function(){t(h.Ob(m)),j(),e.setSelected([])},autoFocus:!0},"Confirm"))))},Q=(t(72),t(1897));var V=Object(P.j)((function(e){var a=Object(b.c)(),t=Object(b.d)((function(e){return e.accesscontrolApp.downloads.data})),n=Object(b.d)((function(e){return e.accesscontrolApp.downloads.searchText})),l=Object(c.useState)(t),o=Object(w.a)(l,2),i=o[0],s=o[1],d=Object(c.useState)(0),m=Object(w.a)(d,2),u=m[0],f=m[1],p=Object(c.useState)(10),E=Object(w.a)(p,2),g=E[0],y=E[1],P=Object(c.useState)({direction:"asc",id:null}),D=Object(w.a)(P,2),I=D[0],A=D[1],B=Object(c.useState)([]),R=Object(w.a)(B,2),T=R[0],W=R[1];return Object(c.useEffect)((function(){a(h.mb())}),[a]),Object(c.useEffect)((function(){0!==n.length?(s(j.a.filter(t,(function(e){return e.description.toLowerCase().includes(n.toLowerCase())}))),f(0)):s(t)}),[t,n]),r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(x.a,{className:"flex-grow overflow-x-auto"},r.a.createElement(O.a,{className:"min-w-xl","aria-labelledby":"tableTitle"},r.a.createElement(K,{order:I,onRequestSort:function(e,a){var t=a,n="desc";I.id===a&&"desc"===I.direction&&(n="asc"),A({direction:n,id:t})},rowCount:i.length,numSelected:T.length,onSelectAllClick:function(e){e.target.checked?W(i.map((function(e){return e.id}))):W([])},selectedDownloadIds:T,setSelected:W}),r.a.createElement(C.a,null,j.a.orderBy(i,[function(e){switch(I.id){case"domain.name":return e.domain.name;default:return e[I.id]}}],[I.direction]).slice(u*g,u*g+g).map((function(e){var t=-1!==T.indexOf(e.id);return r.a.createElement(S.a,{hover:!0,className:"h-36 cursor-pointer",tabIndex:-1,key:e.id,role:"checkbox","aria-checked":t,selected:t,onClick:function(e){}},r.a.createElement(N.a,{className:"w-64 text-center",padding:"none"},r.a.createElement(v.a,{checked:t,onClick:function(e){return e.stopPropagation()},onChange:function(a){return function(e,a){var t=T.indexOf(a),n=[];-1===t?n=n.concat(T,a):0===t?n=n.concat(T.slice(1)):t===T.length-1?n=n.concat(T.slice(0,-1)):t>0&&(n=n.concat(T.slice(0,t),T.slice(t+1))),W(n)}(0,e.id)}})),r.a.createElement(N.a,{className:"w-52",component:"th",scope:"row",padding:"none"}),r.a.createElement(N.a,null,e.description),r.a.createElement(N.a,null,r.a.createElement(q.a,{title:"Click to download",placement:"bottom-end",enterDelay:300},r.a.createElement(Q.a,{onClick:function(t){return n=e,void a(h.lb(n));var n},role:"button"},e.filename))),r.a.createElement(N.a,{component:"th",scope:"row"},e.date))}))))),r.a.createElement(k.a,{className:"overflow-hidden",component:"div",count:i.length,rowsPerPage:g,page:u,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,a){f(a)},onChangeRowsPerPage:function(e){y(e.target.value)}}))}));a.default=Object(l.a)("accesscontrolApp",o.a)((function(){return r.a.createElement(n.a,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(g,null),content:r.a.createElement(V,null),innerScroll:!0})}))}}]);