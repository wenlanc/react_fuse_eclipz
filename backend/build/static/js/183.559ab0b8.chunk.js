(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[183],{3420:function(e,a,t){"use strict";t.r(a);var n=t(1628),c=t(211),l=t(0),r=t.n(l),i=t(1688),o=t(70),s=t(1590),d=t(1581),m=t(541),u=t(228),f=t(1604),p=t(229),b=t(5),g=t(21),h=t(1629);var E=function(e){var a=Object(b.c)(),t=Object(b.d)((function(e){return e.accesscontrolApp.admins.searchText})),n=Object(b.d)((function(e){return e.fuse.settings.mainTheme})),c=Object(b.d)((function(e){return e.auth.user}));return console.log(c),c.role,r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(o.a,{animation:"transition.expandIn",delay:300},r.a.createElement("img",{className:"w-32 sm:w-48 rounded",src:"assets/images/logos/admins.png",alt:"Admins"})),r.a.createElement(o.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(p.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Admins"))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},r.a.createElement(f.a,{theme:n},r.a.createElement(o.a,{animation:"transition.slideDownIn",delay:300},r.a.createElement(u.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},r.a.createElement(d.a,{color:"action"},"search"),r.a.createElement(m.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a(h.fc(e))}}))))),r.a.createElement(o.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(s.a,{component:g.a,to:"/admins/new",className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary"},r.a.createElement("span",{className:"hidden sm:flex"},"Add New Admin"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},x=t(22),w=t(44),v=t(8),j=t(1594),O=t(1647),N=t(1648),C=t(1591),S=t(1676),k=t(1592),P=t(2),y=t(53),A=t(817),I=t(1612),B=t(1588),R=t(538),T=t(1583),D=t(1534),L=t(1580),W=t(1650),_=t(1695),q=t(1587),z=t(1599),F=t(1678),J=t(1670),M=t(1692),U=t(1679),G=Object(L.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var H=function(e){var a=G(e),t=Object(l.useState)(null),n=Object(x.a)(t,2),c=n[0],i=n[1],o=Object(b.d)((function(e){return e.auth.user}));function m(){i(null)}var u=Object(b.c)(),f=e.selectedAdminIds,p=r.a.useState(!1),g=Object(x.a)(p,2),E=g[0],w=g[1],v=function(){w(!1)},O=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"status",align:"right",disablePadding:!1,label:"Active",sort:!0}];return"superadmin"==o.role&&(O=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"domain.name",align:"left",disablePadding:!1,label:"Domain",sort:!0},{id:"status",align:"right",disablePadding:!1,label:"Active",sort:!0}]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,null,r.a.createElement(k.a,{className:"h-64"},r.a.createElement(C.a,{padding:"none",className:"relative w-64 text-center"},r.a.createElement(j.a,{indeterminate:e.numSelected>0&&e.numSelected<e.rowCount,checked:e.numSelected>0&&e.numSelected===e.rowCount,onChange:e.onSelectAllClick}),"superadmin"==o.role&&e.numSelected>0&&r.a.createElement("div",{className:Object(P.default)("flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10",a.actionsButtonWrapper)},r.a.createElement(A.a,{"aria-owns":c?"selectedAdminsMenu":null,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},r.a.createElement(d.a,null,"more_horiz")),r.a.createElement(R.a,{id:"selectedAdminsMenu",anchorEl:c,open:Boolean(c),onClose:m},r.a.createElement(D.a,null,r.a.createElement(T.a,{onClick:function(){m(),w(!0)}},r.a.createElement(I.a,{className:"min-w-40"},r.a.createElement(d.a,null,"delete")),r.a.createElement(B.a,{primary:"Remove"})))))),O.map((function(a){return r.a.createElement(C.a,{key:a.id,align:a.align,padding:a.disablePadding?"none":"default",sortDirection:e.order.id===a.id&&e.order.direction},a.sort&&r.a.createElement(q.a,{title:"Sort",placement:"right"===a.align?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(_.a,{active:e.order.id===a.id,direction:e.order.direction,onClick:(t=a.id,function(a){e.onRequestSort(a,t)})},a.label)));var t}),this))),r.a.createElement(z.a,{open:E,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(U.a,{id:"alert-dialog-title"},"Warning"),r.a.createElement(J.a,null,r.a.createElement(M.a,{id:"alert-dialog-description"},"Confirm to delete...")),r.a.createElement(F.a,null,r.a.createElement(s.a,{onClick:v},"Cancel"),r.a.createElement(s.a,{onClick:function(){u(h.Lb(f)),v(),e.setSelected([])},autoFocus:!0},"Confirm"))))};var K=Object(y.j)((function(e){var a=Object(b.c)(),t=Object(b.d)((function(e){return e.accesscontrolApp.admins.data})),n=Object(b.d)((function(e){return e.accesscontrolApp.admins.searchText})),c=Object(b.d)((function(e){return e.auth.user})),i=Object(l.useState)([]),o=Object(x.a)(i,2),s=o[0],m=o[1],u=Object(l.useState)(t),f=Object(x.a)(u,2),p=f[0],g=f[1],E=Object(l.useState)(0),P=Object(x.a)(E,2),y=P[0],A=P[1],I=Object(l.useState)(10),B=Object(x.a)(I,2),R=B[0],T=B[1],D=Object(l.useState)({direction:"asc",id:null}),L=Object(x.a)(D,2),W=L[0],_=L[1];return Object(l.useEffect)((function(){a(h.gb())}),[a]),Object(l.useEffect)((function(){0!==n.length?(g(v.a.filter(t,(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),A(0)):g(t)}),[t,n]),r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(w.a,{className:"flex-grow overflow-x-auto"},r.a.createElement(O.a,{className:"min-w-xl","aria-labelledby":"tableTitle"},r.a.createElement(H,{numSelected:s.length,order:W,onSelectAllClick:function(e){e.target.checked?m(p.map((function(e){return e.id}))):m([])},onRequestSort:function(e,a){var t=a,n="desc";W.id===a&&"desc"===W.direction&&(n="asc"),_({direction:n,id:t})},rowCount:p.length,selectedAdminIds:s,setSelected:m}),r.a.createElement(N.a,null,v.a.orderBy(p,[function(e){switch(W.id){case"domain.name":return e.domain.name;default:return e[W.id]}}],[W.direction]).slice(y*R,y*R+R).map((function(a){var t=-1!==s.indexOf(a.id);return r.a.createElement(k.a,{className:"h-36 cursor-pointer",hover:!0,role:"checkbox","aria-checked":t,tabIndex:-1,key:a.id,selected:t,onClick:function(t){return n=a,void("superadmin"==c.role&&e.history.push("/admins/".concat(n.id)));var n}},r.a.createElement(C.a,{className:"w-64 text-center",padding:"none"},r.a.createElement(j.a,{checked:t,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,a){var t=s.indexOf(a),n=[];-1===t?n=n.concat(s,a):0===t?n=n.concat(s.slice(1)):t===s.length-1?n=n.concat(s.slice(0,-1)):t>0&&(n=n.concat(s.slice(0,t),s.slice(t+1))),m(n)}(0,a.id)}})),r.a.createElement(C.a,{className:"w-52",component:"th",scope:"row",padding:"none"}),r.a.createElement(C.a,{component:"th",scope:"row"},a.name),"superadmin"==c.role&&r.a.createElement(C.a,{className:"truncate",component:"th",scope:"row"},a.domain?a.domain.name:"-"),r.a.createElement(C.a,{component:"th",scope:"row",align:"right"},"A"==a.status?r.a.createElement(d.a,{className:"text-green text-20"},"check_circle"):r.a.createElement(d.a,{className:"text-red text-20"},"remove_circle")))}))))),r.a.createElement(S.a,{className:"overflow-hidden",component:"div",count:p.length,rowsPerPage:R,page:y,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,a){A(a)},onChangeRowsPerPage:function(e){T(e.target.value)}}))}));a.default=Object(c.a)("accesscontrolApp",i.a)((function(){return r.a.createElement(n.a,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(E,null),content:r.a.createElement(K,null),innerScroll:!0})}))}}]);