(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[188],{3421:function(e,a,t){"use strict";t.r(a);var n=t(1628),c=t(211),l=t(0),r=t.n(l),i=t(1688),o=t(70),s=t(1590),d=t(1581),m=t(541),u=t(228),f=t(1604),p=t(229),g=t(5),b=t(21),h=t(1629);var E=function(e){var a=Object(g.c)(),t=Object(g.d)((function(e){return e.accesscontrolApp.services.searchText})),n=Object(g.d)((function(e){return e.fuse.settings.mainTheme}));return Object(l.useEffect)((function(){a(h.nc(""))}),[a]),r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(o.a,{animation:"transition.expandIn",delay:300},r.a.createElement("img",{className:"w-32 sm:w-48 rounded",src:"assets/images/logos/gateways.png",alt:"Gateways"})),r.a.createElement(o.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(p.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Gateways"))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},r.a.createElement(f.a,{theme:n},r.a.createElement(o.a,{animation:"transition.slideDownIn",delay:300},r.a.createElement(u.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},r.a.createElement(d.a,{color:"action"},"search"),r.a.createElement(m.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a(h.nc(e.target.value))}}))))),r.a.createElement(o.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(s.a,{component:b.a,to:"/services/new",className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary"},r.a.createElement("span",{className:"hidden sm:flex"},"Add New Gateway"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},v=t(22),w=t(44),x=t(8),j=t(1594),N=t(1647),O=t(1648),S=t(1591),y=t(1676),k=t(1592),C=t(2),P=t(53),A=t(817),I=t(1612),B=t(1588),R=t(538),_=t(1583),T=t(1534),D=t(1580),G=t(1650),W=t(1695),L=t(1587),M=t(1599),q=t(1678),z=t(1670),F=t(1692),J=t(1679),U=Object(D.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var H=function(e){var a=U(e),t=Object(l.useState)(null),n=Object(v.a)(t,2),c=n[0],i=n[1],o=Object(g.c)(),m=e.selectedServiceIds,u=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"groups",align:"left",disablePadding:!1,label:"Group",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}];function f(){i(null)}"superadmin"==Object(g.d)((function(e){return e.auth.user})).role&&(u=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"domain.name",align:"left",disablePadding:!1,label:"Domain",sort:!0},{id:"groups",align:"left",disablePadding:!1,label:"Mesh Networks",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}]);var p=r.a.useState(!1),b=Object(v.a)(p,2),E=b[0],w=b[1],x=function(){w(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(k.a,{className:"h-64"},r.a.createElement(S.a,{padding:"none",className:"relative w-64 text-center"},r.a.createElement(j.a,{indeterminate:e.numSelected>0&&e.numSelected<e.rowCount,checked:e.numSelected>0&&e.numSelected===e.rowCount,onChange:e.onSelectAllClick}),e.numSelected>0&&r.a.createElement("div",{className:Object(C.default)("flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10",a.actionsButtonWrapper)},r.a.createElement(A.a,{"aria-owns":c?"selectedServicesMenu":null,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},r.a.createElement(d.a,null,"more_horiz")),r.a.createElement(R.a,{id:"selectedServicesMenu",anchorEl:c,open:Boolean(c),onClose:f},r.a.createElement(T.a,null,r.a.createElement(_.a,{onClick:function(){f(),w(!0)}},r.a.createElement(I.a,{className:"min-w-40"},r.a.createElement(d.a,null,"delete")),r.a.createElement(B.a,{primary:"Remove"})))))),u.map((function(a){return r.a.createElement(S.a,{key:a.id,align:a.align,padding:a.disablePadding?"none":"default",sortDirection:e.order.id===a.id&&e.order.direction},a.sort&&r.a.createElement(L.a,{title:"Sort",placement:"right"===a.align?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(W.a,{active:e.order.id===a.id,direction:e.order.direction,onClick:(t=a.id,function(a){e.onRequestSort(a,t)})},a.label)));var t}),this))),r.a.createElement(M.a,{open:E,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(J.a,{id:"alert-dialog-title"},"Warning"),r.a.createElement(z.a,null,r.a.createElement(F.a,{id:"alert-dialog-description"},"Confirm to delete...")),r.a.createElement(q.a,null,r.a.createElement(s.a,{onClick:x},"Cancel"),r.a.createElement(s.a,{onClick:function(){o(h.Rb(m)),x(),e.setSelected([])},autoFocus:!0},"Confirm"))))},K=t(1596);var Q=Object(P.j)((function(e){var a=Object(g.c)(),t=Object(g.d)((function(e){return e.accesscontrolApp.services.data})),n=Object(g.d)((function(e){return e.accesscontrolApp.services.searchText})),c=Object(g.d)((function(e){return e.auth.user})),i=Object(l.useState)([]),o=Object(v.a)(i,2),s=o[0],m=o[1],u=Object(l.useState)(t),f=Object(v.a)(u,2),p=f[0],b=f[1],E=Object(l.useState)(0),C=Object(v.a)(E,2),P=C[0],A=C[1],I=Object(l.useState)(10),B=Object(v.a)(I,2),R=B[0],_=B[1],T=Object(l.useState)({direction:"asc",id:null}),D=Object(v.a)(T,2),G=D[0],W=D[1];return Object(l.useEffect)((function(){a(h.yb())}),[a]),Object(l.useEffect)((function(){0!==n.length?(b(x.a.filter(t,(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),A(0)):b(t)}),[t,n]),r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(w.a,{className:"flex-grow overflow-x-auto"},r.a.createElement(N.a,{className:"min-w-xl","aria-labelledby":"tableTitle"},r.a.createElement(H,{numSelected:s.length,order:G,onSelectAllClick:function(e){e.target.checked?m(p.map((function(e){return e.id}))):m([])},onRequestSort:function(e,a){var t=a,n="desc";G.id===a&&"desc"===G.direction&&(n="asc"),W({direction:n,id:t})},rowCount:p.length,selectedServiceIds:s,setSelected:m}),r.a.createElement(O.a,null,x.a.orderBy(p,[function(e){switch(G.id){case"domain.name":return e.domain.name;default:return e[G.id]}}],[G.direction]).slice(P*R,P*R+R).map((function(a){var t=-1!==s.indexOf(a.id);return r.a.createElement(k.a,{className:"h-36 cursor-pointer",hover:!0,role:"checkbox","aria-checked":t,tabIndex:-1,key:a.id,selected:t,onClick:function(t){return n=a,void e.history.push("/services/".concat(n.id));var n}},r.a.createElement(S.a,{className:"w-64 text-center",padding:"none"},r.a.createElement(j.a,{checked:t,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,a){var t=s.indexOf(a),n=[];-1===t?n=n.concat(s,a):0===t?n=n.concat(s.slice(1)):t===s.length-1?n=n.concat(s.slice(0,-1)):t>0&&(n=n.concat(s.slice(0,t),s.slice(t+1))),m(n)}(0,a.id)}})),r.a.createElement(S.a,{className:"w-52",component:"th",scope:"row",padding:"none"}),r.a.createElement(S.a,{component:"th",scope:"row"},a.name),"superadmin"==c.role&&r.a.createElement(S.a,{className:"truncate",component:"th",scope:"row"},a.domain.name),r.a.createElement(S.a,{className:"truncate",component:"th",scope:"row",style:{padding:"7px 15px"}},a.group_names&&a.group_names.length&&a.group_names.map((function(e){return r.a.createElement(K.a,{style:{margin:"3px"},key:e,label:e})}))),r.a.createElement(S.a,{component:"th",scope:"row",align:"right"},"A"==a.status?r.a.createElement(d.a,{className:"text-green text-20"},"check_circle"):r.a.createElement(d.a,{className:"text-red text-20"},"remove_circle")))}))))),r.a.createElement(y.a,{className:"overflow-hidden",component:"div",count:p.length,rowsPerPage:R,page:P,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,a){A(a)},onChangeRowsPerPage:function(e){_(e.target.value)}}))}));a.default=Object(c.a)("accesscontrolApp",i.a)((function(){return r.a.createElement(n.a,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(E,null),content:r.a.createElement(Q,null),innerScroll:!0})}))}}]);