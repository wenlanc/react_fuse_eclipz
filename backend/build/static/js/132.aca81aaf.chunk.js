(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[132],{1628:function(e,a,t){"use strict";t.d(a,"a",(function(){return v}));var n=t(56),r=t(44),l=t(1580),i=t(2),c=t(0),o=t.n(c),s=t(1604),m=t(5);var u=function(e){var a=Object(m.d)((function(e){return e.fuse.settings.mainThemeDark}));return o.a.createElement("div",{className:e.classes.header},e.header&&o.a.createElement(s.a,{theme:a},e.header))},d=t(22),p=t(1579),f=t(1595);var b=function(e){var a=Object(m.d)((function(e){return e.fuse.settings.mainThemeDark})),t=e.classes;return o.a.createElement(o.a.Fragment,null,e.header&&o.a.createElement(s.a,{theme:a},o.a.createElement("div",{className:Object(i.default)(t.sidebarHeader,e.variant)},e.header)),e.content&&o.a.createElement(r.a,{className:t.sidebarContent,enable:e.innerScroll},e.content))};var E=o.a.forwardRef((function(e,a){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],l=n[1],s=e.classes;Object(c.useImperativeHandle)(a,(function(){return{toggleSidebar:m}}));var m=function(){l(!r)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{lgUp:"permanent"===e.variant},o.a.createElement(p.a,{variant:"temporary",anchor:e.position,open:r,onClose:function(e){return m()},classes:{root:Object(i.default)(s.sidebarWrapper,e.variant),paper:Object(i.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},o.a.createElement(b,e))),"permanent"===e.variant&&o.a.createElement(f.a,{mdDown:!0},o.a.createElement(p.a,{variant:"permanent",className:Object(i.default)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(i.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},o.a.createElement(b,e))))})),h=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to right, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),g=o.a.forwardRef((function(e,a){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),l=Object(c.useRef)(null),s=h(e),m=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return o.a.useImperativeHandle(a,(function(){return{rootRef:l,toggleLeftSidebar:function(){t.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),o.a.createElement("div",{className:Object(i.default)(s.root,e.innerScroll&&s.innerScroll),ref:l},o.a.createElement("div",{className:s.topBg}),o.a.createElement("div",{className:"flex container w-full"},d&&o.a.createElement(E,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:t,rootRef:l}),o.a.createElement("div",{className:Object(i.default)(s.contentWrapper,d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",m&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},o.a.createElement(u,{header:e.header,classes:s}),o.a.createElement("div",{className:Object(i.default)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&o.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&o.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),m&&o.a.createElement(E,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:l})))}));g.defaultProps={};var v=o.a.memo(g)},1849:function(e,a,t){"use strict";var n=t(70),r=t(1580),l=t(229),i=(t(2),t(0)),c=t.n(i),o=(t(5),t(1778),Object(r.a)({table:{"& th":{padding:"16px 0"}},typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}}));a.a=function(e){return o(),c.a.createElement(n.a,{animation:"transition.slideUpIn",delay:200},c.a.createElement("div",{className:"flex align-center justify-center p-16 sm:p-24"},c.a.createElement(l.a,{variant:"subtitle1",className:"py-16"},"Patient's note goes here!")))}},1850:function(e,a,t){"use strict";var n=t(70),r=t(1581),l=t(817),i=t(1587),c=t(0),o=t.n(c);t(5);a.a=function(e){return o.a.createElement("div",{className:"flex flex-col items-center justify-center h-full p-4 sm:p-12"},o.a.createElement("div",{className:"toolbar flex align-center justify-center"},o.a.createElement(n.a,{animation:"transition.expandIn",delay:200},o.a.createElement(i.a,{title:"Note",placement:"top"},o.a.createElement(l.a,null,o.a.createElement(r.a,null,"note")))),o.a.createElement(n.a,{animation:"transition.expandIn",delay:200},o.a.createElement(i.a,{title:"Summary",placement:"top"},o.a.createElement(l.a,null,o.a.createElement(r.a,null,"import_contacts")))),o.a.createElement(n.a,{animation:"transition.expandIn",delay:200},o.a.createElement(i.a,{title:"File",placement:"top"},o.a.createElement(l.a,null,o.a.createElement(r.a,null,"folder_open"))))))}},1875:function(e,a,t){"use strict";t.d(a,"a",(function(){return S}));var n=t(22),r=t(56),l=t(44),i=t(1580),c=t(2),o=t(0),s=t.n(o),m=t(1604),u=t(5);var d=function(e){var a=Object(u.d)((function(e){return e.fuse.settings.mainThemeDark}));return s.a.createElement("div",{className:e.classes.header},e.header&&s.a.createElement(m.a,{theme:a},e.header))},p=t(1579),f=t(1595);var b=function(e){var a=Object(u.d)((function(e){return e.fuse.settings.mainThemeDark})),t=e.classes;return s.a.createElement(l.a,{enable:e.innerScroll},e.header&&s.a.createElement(m.a,{theme:a},s.a.createElement("div",{className:Object(c.default)(t.sidebarHeader,e.variant,e.sidebarInner&&t.sidebarHeaderInnerSidebar)},e.header)),e.content&&s.a.createElement("div",{className:t.sidebarContent},e.content))};var E=s.a.forwardRef((function(e,a){var t=Object(o.useState)(!1),r=Object(n.a)(t,2),l=r[0],i=r[1],m=e.classes;Object(o.useImperativeHandle)(a,(function(){return{toggleSidebar:u}}));var u=function(){i(!l)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{lgUp:"permanent"===e.variant},s.a.createElement(p.a,{variant:"temporary",anchor:e.position,open:l,onClose:function(e){return u()},classes:{root:Object(c.default)(m.sidebarWrapper,e.variant),paper:Object(c.default)(m.sidebar,e.variant,"left"===e.position?m.leftSidebar:m.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:m.backdrop}},style:{position:"absolute"}},s.a.createElement(b,e))),"permanent"===e.variant&&s.a.createElement(f.a,{mdDown:!0},s.a.createElement(p.a,{variant:"permanent",className:Object(c.default)(m.sidebarWrapper,e.variant),open:l,classes:{paper:Object(c.default)(m.sidebar,e.variant,"left"===e.position?m.leftSidebar:m.rightSidebar)}},s.a.createElement(b,e))))})),h=t(1778),g=t.n(h),v=Object(i.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},wrapper:{display:"flex",flexDirection:"row",flex:"1 1 auto",zIndex:2,maxWidth:"100%",minWidth:0,height:"100%",backgroundColor:e.palette.background.default},header:{height:120,minHeight:120,display:"flex",background:"linear-gradient(to right, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),color:e.palette.primary.contrastText,backgroundSize:"cover",backgroundColor:e.palette.primary.dark},topBg:{position:"absolute",left:0,right:0,top:0,height:120,pointerEvents:"none"},contentWrapper:{display:"flex",flexDirection:"column",flex:"1 1 auto",overflow:"auto","-webkit-overflow-scrolling":"touch",zIndex:9999},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center"},content:{flex:"1 0 auto"},sidebarWrapper:{overflow:"hidden",backgroundColor:"transparent",position:"absolute","&.permanent":Object(r.a)({},e.breakpoints.up("lg"),{position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(r.a)({},e.breakpoints.up("lg"),{backgroundColor:e.palette.background.default,color:e.palette.text.primary,position:"relative"}),height:"100%"},leftSidebar:Object(r.a)({},e.breakpoints.up("lg"),{borderRight:"1px solid ".concat(e.palette.divider),borderLeft:0}),rightSidebar:Object(r.a)({},e.breakpoints.up("lg"),{borderLeft:"0px solid ".concat(e.palette.divider),borderRight:0}),sidebarHeader:{height:120,minHeight:120,backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText},sidebarHeaderInnerSidebar:{backgroundColor:"transparent",color:"inherit",height:"auto",minHeight:"auto"},sidebarContent:{},backdrop:{position:"absolute"}}})),j=s.a.forwardRef((function(e,a){var t=Object(o.useRef)(null),r=Object(o.useRef)(null),i=Object(o.useRef)(null),m=v(e),u=Object(o.useState)(500),p=Object(n.a)(u,2),f=p[0],b=p[1],h=Object(o.useState)(!1),j=Object(n.a)(h,2),S=j[0],y=j[1],O=Object(o.useState)(200),x=Object(n.a)(O,2),N=x[0],k=x[1],I=Object(o.useState)(!1),C=Object(n.a)(I,2),A=C[0],L=C[1];return s.a.useImperativeHandle(a,(function(){return{rootRef:i,toggleLeftSidebar:function(){t.current.toggleSidebar()},toggleRightSidebar:function(){r.current.toggleSidebar()}}})),s.a.createElement("div",{className:Object(c.default)(m.root,e.innerScroll&&m.innerScroll),ref:i},s.a.createElement("div",{className:Object(c.default)(m.header,m.topBg)}),s.a.createElement("div",{className:"flex flex-auto flex-col container z-10 h-full"},e.header&&e.sidebarInner&&s.a.createElement(d,{header:e.header,classes:m}),s.a.createElement("div",{className:m.wrapper},s.a.createElement(g.a,{type:"vertical",size:e.leftSidebarHeader||e.leftSidebarContent?N:0,isResizing:A,onResizeStart:function(){return L(!0)},onResizeEnd:function(){return L(!1)},onChange:function(e){return k(e)},paneStyle:{border:"1px solid transparent"},pane1Style:{borderRight:"2px solid silver"}},(e.leftSidebarHeader||e.leftSidebarContent)&&s.a.createElement(E,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,sidebarInner:e.sidebarInner,classes:m,ref:t,rootRef:i}),s.a.createElement(g.a,{type:"vertical",size:f,isResizing:S,onResizeStart:function(){return y(!0)},onResizeEnd:function(){return y(!1)},onChange:function(e){return b(e)},paneStyle:{border:"1px solid transparent"},pane1Style:{borderRight:"2px solid silver"}},s.a.createElement(l.a,{className:m.contentWrapper,enable:e.innerScroll&&!e.sidebarInner},e.header&&!e.sidebarInner&&s.a.createElement(d,{header:e.header,classes:m}),e.contentToolbar&&s.a.createElement("div",{className:m.toolbar},e.contentToolbar),e.content&&s.a.createElement("div",{className:m.content},e.content)),(e.rightSidebarHeader||e.rightSidebarContent)&&s.a.createElement(E,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,sidebarInner:e.sidebarInner,classes:m,ref:r,rootRef:i}))))))}));j.defaultProps={};var S=s.a.memo(j)},3397:function(e,a,t){"use strict";t.r(a);t(1628);var n=t(1875),r=t(211),l=t(0),i=t.n(l),c=t(5),o=t(53),s=t(22),m=t(70),u=t(8),d=t(1619),p=t(1611),f=t(1581),b=t(817),E=t(229),h=t(86),g=t(1580),v=t(2),j=Object(g.a)((function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}}));var S=function(e){var a=j();return i.a.createElement("div",{className:Object(v.default)(a.root,e.className)},i.a.createElement("div",{className:a.color,style:{backgroundColor:e.color}}),i.a.createElement("div",null,e.title))},y=t(48),O=t.n(y),x="[MAIL APP] GET MAILS";function N(){return function(e,a){var t=a().mailApp.mails.routeParams;return O.a.get("/api/mail-app/mails",{params:t}).then((function(a){return e({type:"[MAIL APP] UPDATE MAILS",payload:a.data})}))}}function k(e,a){return{type:"[MAILS] SELECT MAILS BY PARAMETER",payload:{parameter:e,value:a}}}function I(e){return function(a,t){var n=t().mailApp.mails.selectedMailIds;return O.a.post("/api/mail-app/set-folder",{selectedMailIds:n,folderId:e}).then((function(e){return a({type:"[MAILS] SET FOLDER ON SELECTED MAILS"}),a(N())}))}}var C=t(6),A="[MAIL APP] GET MAIL",L="[MAIL APP] UPDATE MAIL";function M(e){var a=O.a.post("/api/mail-app/update-mail",e);return function(e){return a.then((function(a){return e({type:L,payload:a.data})}))}}var T="[MAIL APP] GET FOLDERS";var w="[MAIL APP] GET LABELS";var R="[MAIL APP] GET FILTERS";var P=Object(o.j)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mail}));console.log(t);var n=Object(c.d)((function(e){return e.mailApp.labels})),r=Object(o.i)(),g=Object(l.useState)(!1),v=Object(s.a)(g,2),j=v[0],y=v[1];return Object(h.b)((function(){a(function(e){var a=O.a.get("/api/mail-app/mail",{params:e});return function(t){return a.then((function(a){return t({type:A,routeParams:e,payload:a.data})}))}}(r))}),[a,r]),t?i.a.createElement("div",{className:"p-16 sm:p-24"},i.a.createElement("div",{className:"flex items-center justify-between overflow-hidden"},i.a.createElement("div",{className:"flex flex-col"},i.a.createElement(m.a,{delay:100},i.a.createElement(E.a,{variant:"subtitle1",className:"flex"},t.subject)),n&&t.labels.length>0&&i.a.createElement("div",{className:"flex flex-wrap mt-8 -mx-2"},t.labels.map((function(e){return i.a.createElement(S,{className:"mt-4 mx-2",title:u.a.find(n,{id:e}).title,color:u.a.find(n,{id:e}).color,key:e})}))))),i.a.createElement(p.a,{className:"my-16"}),i.a.createElement(m.a,{animation:"transition.slideUpIn",delay:200},i.a.createElement("div",null,i.a.createElement("div",{className:"flex items-start justify-between"},i.a.createElement("div",{className:"flex items-center justify-start"},t.from.avatar?i.a.createElement(d.a,{alt:t.from.name,src:t.from.avatar}):i.a.createElement(d.a,null,t.from.name[0]),i.a.createElement("div",{className:"flex flex-col mx-8"},i.a.createElement("span",null,t.from.name),i.a.createElement(E.a,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start"},i.a.createElement("div",null,"to"),i.a.createElement("div",{className:"mx-4"},t.to[0].name)))),i.a.createElement(b.a,null,i.a.createElement(f.a,null,"more_vert"))),i.a.createElement("div",{className:"my-16"},i.a.createElement(E.a,{color:"primary",className:"cursor-pointer underline mb-8",onClick:function(){y(!j)}},j?i.a.createElement("span",null,"Hide Details"):i.a.createElement("span",null,"Show Details")),j&&i.a.createElement("div",{className:"flex"},i.a.createElement(E.a,{variant:"body2",className:"flex flex-col"},i.a.createElement("span",null,"From:"),i.a.createElement("span",null,"To:"),i.a.createElement("span",null,"Date:")),i.a.createElement(E.a,{variant:"body2",color:"textSecondary",className:"px-4 flex flex-col"},i.a.createElement("span",null,t.from.email),i.a.createElement("span",null,t.to[0].email),i.a.createElement("span",null,t.time)))),i.a.createElement(E.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.message}}),i.a.createElement(p.a,{className:"my-16"}),t.attachments&&i.a.createElement("div",null,i.a.createElement(E.a,{variant:"subtitle1",className:"mb-16"},i.a.createElement("span",{className:"mx-4"},"Attachments"),i.a.createElement("span",null,"(",t.attachments.length,")")),i.a.createElement("div",{className:"flex flex-wrap -mx-8"},t.attachments.map((function(e){return i.a.createElement("div",{className:"w-192 px-8 pb-16",key:e.fileName},i.a.createElement("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),i.a.createElement("div",{className:"flex flex-col"},i.a.createElement(E.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"View"),i.a.createElement(E.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"Download"),i.a.createElement(E.a,null,"(",e.size,")")))}))))))):null})),H=t(57),D=t(2254);var z=Object(o.j)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mail})),n=Object(H.a)(),r=D.compile(e.match.path),l=Object(o.i)(),s=Object(C.a)({},l);delete s.mailId;var u=r(s);return t?i.a.createElement("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16"},i.a.createElement(b.a,{onClick:function(){return e.history.push(u)}},i.a.createElement(f.a,null,"ltr"===n.direction?"arrow_back":"arrow_forward")),i.a.createElement("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},i.a.createElement(m.a,{animation:"transition.expandIn",delay:100},i.a.createElement(b.a,{onClick:function(){return a(function(e){var a=Object(C.a)(Object(C.a)({},e),{},{starred:!e.starred});return function(e){return e({type:"[MAIL APP] TOGGLE STAR MAIL"}),e(M(a))}}(t))}},t.starred?i.a.createElement(f.a,null,"star"):i.a.createElement(f.a,null,"star_border"))),i.a.createElement(m.a,{animation:"transition.expandIn",delay:100},i.a.createElement(b.a,{onClick:function(){return a(function(e){var a=Object(C.a)(Object(C.a)({},e),{},{important:!e.important});return function(e){return e({type:"[MAIL APP] TOGGLE IMPORTANT MAIL"}),e(M(a))}}(t))}},t.important?i.a.createElement(f.a,null,"label"):i.a.createElement(f.a,null,"label_outline"))))):null})),B=t(1595),W=t(541),_=t(228),F=t(1604),G=t(1617);var U=function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.searchText})),n=Object(c.d)((function(e){return e.fuse.settings.mainTheme})),r=Object(G.a)("mailApp").t;return i.a.createElement(F.a,{theme:n},i.a.createElement("div",{className:"flex flex-1"},i.a.createElement(_.a,{className:"flex items-center w-2/3 m-auto h-100 sm:h-100 p-16 ltr:pl-4 lg:ltr:pl-16 rtl:pr-4 lg:rtl:pr-16 rounded-8",elevation:1},i.a.createElement(B.a,{lgUp:!0},i.a.createElement(b.a,{onClick:function(a){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},i.a.createElement(f.a,null,"menu"))),i.a.createElement(f.a,{color:"action"},"search"),i.a.createElement(W.a,{placeholder:r("SEARCH_PLACEHOLDER"),className:"px-16",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a({type:"[MAILS] SET SEARCH TEXT",searchText:e.target.value.toLowerCase()})}}))))},V=t(121),J=t(1535),X=t(1536),Y=t(1588),q=t(1610),K=t(1605),Q=t(1590),Z=t(1599),$=t(1678),ee=t(1670),ae=t(1589),te=t(1586),ne=Object(g.a)({root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}});var re=function(e){var a=ne();return i.a.createElement("div",{className:Object(v.default)(a.root,e.className)},i.a.createElement("div",{className:"flex"},i.a.createElement(E.a,{variant:"caption",className:a.filename},e.fileName),i.a.createElement(E.a,{variant:"caption",className:a.size},"(",e.size,")")),i.a.createElement(b.a,null,i.a.createElement(f.a,{className:"text-16"},"close")))};var le=function(){var e=Object(l.useState)(!1),a=Object(s.a)(e,2),t=a[0],n=a[1],r=Object(h.c)({from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""}),c=r.form,o=r.handleChange,m=Object(G.a)("mailApp").t;return i.a.createElement("div",{className:"p-24"},i.a.createElement(Q.a,{variant:"contained",color:"primary",className:"w-full",onClick:function(){n(!0)}},m("COMPOSE")),i.a.createElement(Z.a,{open:t,onClose:function(){n(!1)},"aria-labelledby":"form-dialog-title"},i.a.createElement(K.a,{position:"static"},i.a.createElement(te.a,{className:"flex w-full"},i.a.createElement(E.a,{variant:"subtitle1",color:"inherit"},"New Message"))),i.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),n(!1)},className:"flex flex-col"},i.a.createElement(ee.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},i.a.createElement(ae.a,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:c.from,onChange:o,variant:"outlined",fullWidth:!0,disabled:!0}),i.a.createElement(ae.a,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:c.to,onChange:o,variant:"outlined",fullWidth:!0,required:!0}),i.a.createElement(ae.a,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:c.cc,onChange:o,variant:"outlined",fullWidth:!0}),i.a.createElement(ae.a,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:c.bcc,onChange:o,variant:"outlined",fullWidth:!0}),i.a.createElement(ae.a,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:c.subject,onChange:o,variant:"outlined",fullWidth:!0}),i.a.createElement(ae.a,{className:"mt-8 mb-16",id:"message",name:"message",onChange:o,value:c.message,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),i.a.createElement("div",{className:"pt-8"},i.a.createElement(re,{fileName:"attachment-2.doc",size:"12 kb"}),i.a.createElement(re,{fileName:"attachment-1.jpg",size:"350 kb"}))),i.a.createElement($.a,{className:"justify-between p-8"},i.a.createElement("div",{className:"px-16"},i.a.createElement(Q.a,{variant:"contained",color:"primary",type:"submit"},"Send"),i.a.createElement(b.a,null,i.a.createElement(f.a,null,"attach_file"))),i.a.createElement(b.a,{onClick:function(){n(!1)}},i.a.createElement(f.a,null,"delete"))))))},ie=Object(g.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}},listSubheader:{paddingLeft:24}}}));var ce=function(e){var a=Object(c.d)((function(e){return e.mailApp.folders})),t=Object(c.d)((function(e){return e.mailApp.labels})),n=Object(c.d)((function(e){return e.mailApp.filters})),r=ie(),l=Object(G.a)("mailApp").t;return i.a.createElement(m.a,{animation:"transition.slideUpIn",delay:400},i.a.createElement("div",{className:"flex-auto border-l-1"},i.a.createElement(le,null),i.a.createElement("div",null,i.a.createElement(J.a,null,i.a.createElement(q.a,{className:r.listSubheader,disableSticky:!0},l("FOLDERS")),a.length>0&&a.map((function(e){return i.a.createElement(X.a,{button:!0,component:V.a,to:"/communications/mail/".concat(e.handle),key:e.id,activeClassName:"active",className:r.listItem},i.a.createElement(f.a,{className:"list-item-icon",color:"action"},e.icon),i.a.createElement(Y.a,{primary:e.translate?l(e.translate):e.title,disableTypography:!0}))}))),i.a.createElement(J.a,null,i.a.createElement(q.a,{className:r.listSubheader,disableSticky:!0},l("FILTERS")),n.length>0&&n.map((function(e){return i.a.createElement(X.a,{button:!0,component:V.a,to:"/apps/mail/filter/".concat(e.handle),activeClassName:"active",className:r.listItem,key:e.id},i.a.createElement(f.a,{className:"list-item-icon",color:"action"},e.icon),i.a.createElement(Y.a,{primary:e.translate?l(e.translate):e.title,disableTypography:!0}))}))),i.a.createElement(J.a,null,i.a.createElement(q.a,{className:r.listSubheader,disableSticky:!0},l("LABELS")),t&&t.map((function(e){return i.a.createElement(X.a,{button:!0,component:V.a,to:"/apps/mail/label/".concat(e.handle),key:e.id,className:r.listItem},i.a.createElement(f.a,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),i.a.createElement(Y.a,{primary:e.title,disableTypography:!0}))}))))))};var oe=function(e){var a=Object(l.useState)("creapond"),t=Object(s.a)(a,2);return t[0],t[1],Object(G.a)("mailApp").t,i.a.createElement("div",{className:"flex flex-col items-center justify-center h-full p-24"},i.a.createElement(E.a,{variant:"h4"},"Mail"))},se=t(1849),me=t(1850),ue=t(528),de=t(29),pe=t(1594),fe=t(2254),be=Object(g.a)((function(e){return{mailItem:{borderBottom:"1px solid  ".concat(e.palette.divider),"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}})),Ee=Object(o.j)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(c.d)((function(e){return e.mailApp.labels})),r=Object(o.i)(),l=be(e),s=fe.compile(e.match.path),m=t.length>0&&void 0!==t.find((function(a){return a===e.mail.id}));return i.a.createElement(X.a,{dense:!0,button:!0,onClick:function(){return e.history.push(s(Object(C.a)(Object(C.a)({},r),{},{mailId:e.mail.id})))},className:Object(v.default)(l.mailItem,m&&"selected",!e.mail.read&&"unread","py-16 px-8")},i.a.createElement(pe.a,{tabIndex:-1,disableRipple:!0,checked:m,onChange:function(){return a({type:"[MAILS] TOGGLE IN SELECTED MAILS",mailId:e.mail.id})},onClick:function(e){return e.stopPropagation()}}),i.a.createElement("div",{className:"flex flex-1 flex-col relative overflow-hidden"},i.a.createElement("div",{className:"flex items-center justify-between px-16 pb-8"},i.a.createElement("div",{className:"flex items-center"},e.mail.from.avatar?i.a.createElement(d.a,{alt:e.mail.from.name,src:e.mail.from.avatar}):i.a.createElement(d.a,{className:l.avatar},e.mail.from.name[0]),i.a.createElement(E.a,{variant:"subtitle1",className:"mx-8"},e.mail.from.name)),i.a.createElement(E.a,{variant:"subtitle1"},e.mail.time)),i.a.createElement("div",{className:"flex flex-col px-16 py-0"},i.a.createElement(E.a,{className:"truncate"},e.mail.subject),i.a.createElement(E.a,{color:"textSecondary",className:"truncate"},u.a.truncate(e.mail.message.replace(/<(?:.|\n)*?>/gm,""),{length:180}))),i.a.createElement("div",{className:"flex justify-end px-12"},n&&e.mail.labels.map((function(e){return i.a.createElement(S,{className:"mx-2 mt-4",title:u.a.find(n,{id:e}).title,color:u.a.find(n,{id:e}).color,key:e})})))))}));var he=Object(o.j)((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.entities})),n=Object(c.d)((function(e){return e.mailApp.mails.searchText})),r=Object(o.i)(),u=Object(l.useState)(null),d=Object(s.a)(u,2),p=d[0],f=d[1],b=Object(G.a)("mailApp").t;return Object(h.b)((function(){a(function(e){var a=O.a.get("/api/mail-app/mails",{params:e});return function(t){return a.then((function(a){return t({type:x,routeParams:e,payload:a.data})}))}}(r))}),[a,r]),Object(l.useEffect)((function(){t&&f(function(){var e=Object.keys(t).map((function(e){return t[e]}));return 0===n.length?e:de.a.filterArrayByString(e,n)}())}),[t,n]),p?0===p.length?i.a.createElement(m.a,{delay:100},i.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},i.a.createElement(E.a,{color:"textSecondary",variant:"h5"},b("NO_MESSAGES")))):i.a.createElement(J.a,{className:"p-0"},i.a.createElement(ue.a,{enter:{animation:"transition.slideUpBigIn"}},p.map((function(e){return i.a.createElement(Ee,{mail:e,key:e.id})})))):null})),ge=t(56),ve=t(538),je=t(1583);var Se=function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(c.d)((function(e){return e.mailApp.mails.entities})),r=Object(c.d)((function(e){return e.mailApp.labels})),o=Object(c.d)((function(e){return e.mailApp.folders})),m=Object(l.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null}),u=Object(s.a)(m,2),d=u[0],p=u[1];function E(e,a){p(Object(C.a)(Object(C.a)({},a),{},Object(ge.a)({},a,e.currentTarget)))}function h(e,a){p(Object(C.a)(Object(C.a)({},a),{},Object(ge.a)({},a,null)))}return i.a.createElement("div",{className:"flex flex-1 items-center sm:px-8"},i.a.createElement(pe.a,{onChange:function(e){return e.target.checked?a({type:"[MAILS] SELECT ALL MAILS"}):a({type:"[MAILS] DESELECT ALL MAILS"})},checked:t.length===Object.keys(n).length&&t.length>0,indeterminate:t.length!==Object.keys(n).length&&t.length>0}),i.a.createElement(b.a,{className:"",size:"small","aria-label":"More","aria-owns":d.select?"select-menu":null,"aria-haspopup":"true",onClick:function(e){return E(e,"select")}},i.a.createElement(f.a,null,"arrow_drop_down")),i.a.createElement(ve.a,{id:"select-menu",anchorEl:d.select,open:Boolean(d.select),onClose:function(e){return h(0,"select")}},i.a.createElement(je.a,{onClick:function(e){a({type:"[MAILS] SELECT ALL MAILS"}),h(0,"select")}},"All"),i.a.createElement(je.a,{onClick:function(e){a({type:"[MAILS] DESELECT ALL MAILS"}),h(0,"select")}},"None"),i.a.createElement(je.a,{onClick:function(e){a(k("read",!0)),h(0,"select")}},"Read"),i.a.createElement(je.a,{onClick:function(e){a(k("read",!1)),h(0,"select")}},"Unread"),i.a.createElement(je.a,{onClick:function(e){a(k("starred",!0)),h(0,"select")}},"Starred"),i.a.createElement(je.a,{onClick:function(e){a(k("starred",!1)),h(0,"select")}},"Unstarred"),i.a.createElement(je.a,{onClick:function(e){a(k("important",!0)),h(0,"select")}},"Important"),i.a.createElement(je.a,{onClick:function(e){a(k("important",!1)),h(0,"select")}},"Unimportant")),t.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),i.a.createElement(b.a,{onClick:function(e){return a(I(4))},"aria-label":"Delete"},i.a.createElement(f.a,null,"delete")),i.a.createElement(b.a,{"aria-label":"More","aria-owns":d.folders?"folders-menu":null,"aria-haspopup":"true",onClick:function(e){return E(e,"folders")}},i.a.createElement(f.a,null,"folder")),i.a.createElement(ve.a,{id:"folders-menu",anchorEl:d.folders,open:Boolean(d.folders),onClose:function(e){return h(0,"folders")}},o.length>0&&o.map((function(e){return i.a.createElement(je.a,{onClick:function(t){a(I(e.id)),h(0,"folders")},key:e.id},e.title)}))),i.a.createElement(b.a,{"aria-label":"More","aria-owns":d.labels?"labels-menu":null,"aria-haspopup":"true",onClick:function(e){return E(e,"labels")}},i.a.createElement(f.a,null,"label")),i.a.createElement(ve.a,{id:"folders-menu",anchorEl:d.labels,open:Boolean(d.labels),onClose:function(e){return h(0,"labels")}},r.length>0&&r.map((function(e){return i.a.createElement(je.a,{onClick:function(t){var n;a((n=e.id,function(e,a){var t=a().mailApp.mails.selectedMailIds;return O.a.post("/api/mail-app/toggle-label",{selectedMailIds:t,labelId:n}).then((function(a){return e({type:"[MAILS] TOGGLE LABEL ON SELECTED MAILS"}),e(N())}))})),h(0,"labels")},key:e.id},e.title)})))))},ye=t(79),Oe=t(12),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case R:return Object(Oe.a)(a.payload);default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case T:return Object(Oe.a)(a.payload);default:return e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case w:return Object(Oe.a)(a.payload);default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case A:case L:return Object(C.a)({},a.payload);default:return e}},Ce={entities:[],routeParams:{},selectedMailIds:[],searchText:""},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case x:return Object(C.a)(Object(C.a)({},e),{},{entities:u.a.keyBy(a.payload,"id"),searchText:"",routeParams:a.routeParams});case"[MAIL APP] UPDATE MAILS":return Object(C.a)(Object(C.a)({},e),{},{entities:u.a.keyBy(a.payload,"id")});case"[MAILS] SELECT ALL MAILS":var t=Object.keys(e.entities).map((function(a){return e.entities[a]})),n=t.map((function(e){return e.id}));return Object(C.a)(Object(C.a)({},e),{},{selectedMailIds:n});case"[MAILS] DESELECT ALL MAILS":return Object(C.a)(Object(C.a)({},e),{},{selectedMailIds:[]});case"[MAILS] SELECT MAILS BY PARAMETER":var r=a.payload,l=Object.keys(e.entities).map((function(a){return e.entities[a]})),i=l.filter((function(e){return e[r.parameter]===r.value})).map((function(e){return e.id}));return Object(C.a)(Object(C.a)({},e),{},{selectedMailIds:i});case"[MAILS] TOGGLE IN SELECTED MAILS":var c=a.mailId,o=Object(Oe.a)(e.selectedMailIds);return o=void 0!==o.find((function(e){return e===c}))?o.filter((function(e){return e!==c})):[].concat(Object(Oe.a)(o),[c]),Object(C.a)(Object(C.a)({},e),{},{selectedMailIds:o});case"[MAILS] SET SEARCH TEXT":return Object(C.a)(Object(C.a)({},e),{},{searchText:a.searchText});default:return e}},Le=Object(ye.d)({mails:Ae,mail:Ie,folders:Ne,labels:ke,filters:xe});a.default=Object(r.a)("mailApp",Le)((function(e){var a=Object(c.c)(),t=Object(l.useRef)(null),r=Object(o.i)();return Object(l.useEffect)((function(){a(function(){var e=O.a.get("/api/mail-app/filters");return function(a){return e.then((function(e){return a({type:R,payload:e.data})}))}}()),a(function(){var e=O.a.get("/api/mail-app/folders");return function(a){return e.then((function(e){return a({type:T,payload:e.data})}))}}()),a(function(){var e=O.a.get("/api/mail-app/labels");return function(a){return e.then((function(e){return a({type:w,payload:e.data})}))}}())}),[a]),i.a.createElement(n.a,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-60 h-60 sm:h-60 sm:min-h-60",sidebarHeader:"h-60 min-h-60 sm:h-60 sm:min-h-60"},header:i.a.createElement(U,{pageLayout:t}),contentToolbar:r.mailId?i.a.createElement(z,null):i.a.createElement(Se,null),content:r.mailId?i.a.createElement(P,null):i.a.createElement(he,null),leftSidebarHeader:i.a.createElement(oe,null),leftSidebarContent:i.a.createElement(ce,null),rightSidebarHeader:i.a.createElement(me.a,null),rightSidebarContent:i.a.createElement(se.a,null),ref:t,innerScroll:!0})}))}}]);